# .upptimerc.yml - 完全消除 logo 錯誤版本
owner: tzumowfun
repo: mowfun

sites:
  - name: 主頁面
    url: https://mowfun.app
    icon: https://raw.githubusercontent.com/upptime/upptime/master/assets/upptime-icon.svg
    
  - name: 登入頁面
    url: https://mowfun.app/login
    icon: https://raw.githubusercontent.com/upptime/upptime/master/assets/upptime-icon.svg
    
  - name: 註冊頁面
    url: https://mowfun.app/signup
    icon: https://raw.githubusercontent.com/upptime/upptime/master/assets/upptime-icon.svg
    
  - name: 紀錄頁面
    url: https://mowfun.app/log
    icon: https://raw.githubusercontent.com/upptime/upptime/master/assets/upptime-icon.svg
    
  - name: 報告頁面
    url: https://mowfun.app/report
    icon: https://raw.githubusercontent.com/upptime/upptime/master/assets/upptime-icon.svg
    
  - name: Supabase Database
    url: https://wmjleoufkrurqyclafcl.supabase.co/rest/v1/
    expectedStatusCodes:
      - 200
      - 401
    maxResponseTime: 10000
    icon: https://raw.githubusercontent.com/upptime/upptime/master/assets/upptime-icon.svg
    
  - name: Supabase Auth
    url: https://wmjleoufkrurqyclafcl.supabase.co/auth/v1/settings
    expectedStatusCodes:
      - 200
      - 401
    maxResponseTime: 10000
    icon: https://raw.githubusercontent.com/upptime/upptime/master/assets/upptime-icon.svg

status-website:
  name: mowfun Status
  introTitle: "mowfun 服務狀態監控"
  introMessage: "即時監控 mowfun 網站及相關服務的運行狀態"
  baseUrl: /mowfun
  theme: light
  logoUrl: https://raw.githubusercontent.com/upptime/upptime/master/assets/upptime-icon.svg
  
  navbar:
    - title: 回到 mowfun
      href: https://mowfun.app
  
  customHeadHtml: |
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
      }
    </style>
    <script>
      // 完全阻止所有圖片載入錯誤
      window.addEventListener('error', function(e) {
        if (e.target && e.target.tagName) {
          if (e.target.tagName === 'IMG' || e.target.tagName === 'LINK') {
            e.stopPropagation();
            e.preventDefault();
            return true;
          }
        }
        if (e.message && e.message.includes('Invalid scale configuration')) {
          e.stopPropagation();
          e.preventDefault();
          return true;
        }
      }, true);
      
      // 移除所有可能的問題圖片
      window.addEventListener('DOMContentLoaded', function() {
        setTimeout(function() {
          // 移除所有可能導致 404 的圖片元素
          const problematicImages = document.querySelectorAll('img[src*="logo-192"], img[src*=".ico"], link[href*="logo-192"], link[href*=".ico"]');
          problematicImages.forEach(element => {
            element.remove();
          });
        }, 500);
      });
    </script>
  
  # 移除可能導致問題的 PWA 相關設定
  # 不設定 manifest 避免尋找 logo-192.png

schedule: "*/5 * * * *"
assignees:
  - tzumowfun
user-agent: mowfun-uptime-monitor

workflowSchedule:
  graphs: "0 0 * * *"
  responseTime: "0 23 * * *"
  staticSite: "0 1 * * *"
  summary: "0 0 * * *"
  updateTemplate: "0 0 * * *"
  updates: "0 3 * * *"
  uptime: "*/5 * * * *"
